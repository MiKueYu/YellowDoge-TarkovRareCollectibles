using SPTarkov.Server.Core.Models.Eft.Common;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace TarkovRareCollectibles
{
    internal static class ConstantsContainer
    {
        // --- Container ID Lookup ---
        public static readonly Dictionary<string, string> containerLookup = new()
        {
            { "StupidBox", "566966cd4bdc2d0c4c8b4578" },
            { "Jacket", "578f8778245977358849a9b5" },
            { "Safe", "578f8782245977354405a1e3" },
            { "CashRegister", "578f879c24597735401e6bc6" },
            { "SportBag", "578f87a3245977356274f2cb" },
            { "WeaponCrate", "578f87ad245977356274f2cc" },
            { "Drawer", "578f87b7245977356274f2cd" },
            { "MedBag", "5909d24f86f77466f56e6855" },
            { "GrenadeBox", "5909d36d86f774660f0bb900" },
            { "AmmoBox", "5909d45286f77465a8136dc6" },
            { "MedBox", "5909d4c186f7746ad34e805a" },
            { "ToolBox", "5909d50c86f774659e6aaebe" },
            { "terraWBoxLong", "5909d5ef86f77467974efbd8" },
            { "terraWBoxLongBig", "5909d76c86f77471e53d2adf" },
            { "terraWBoxSquare", "5909d7cf86f77470ee57d75a" },
            { "terraWBoxSquareBig", "5909d89086f77472591234a0" },
            { "scavDead", "5909e4b686f7747f5b744fa4" },
            { "PCblock", "59139c2186f77411564f8e42" },
            { "jacket_key204", "5914944186f774189e5e76c2" },
            { "jacket_yellow_quest", "5937ef2b86f77408a47244b3" },
            { "jacket_key114_feld", "59387ac686f77401442ddd61" },
            { "CashRegisterBig", "5ad74cf586f774391278f6f0" },
            { "suitcase_plastic_lootable", "5c052cea86f7746b2101e8d8" },
            { "boss_container", "5d07b91b86f7745a077a9432" },
            { "wood_cache", "5d6d2b5486f774785c2ba8ea" },
            { "barrel_cache", "5d6d2bb386f774785b07a77a" },
            { "Food&Stuff", "5d6fd13186f77424ad2a8c69" },
            { "tools&other", "5d6fd45b86f774317075ed43" },
            { "meds&other", "5d6fe50986f77449d97f7463" },
            { "box_preset1", "61a89e5445a2672acf66c877" },
            { "box_preset2", "61a89e812cc17d60cc5f9879" },
            { "terraWBoxLongBig_adv", "61aa1e6984ea0800645777f9" },
            { "SportBag_adv", "61aa1e9a32a4743c3453d2cf" },
            { "MedBag_adv", "61aa1ead84ea0800645777fd" },
            { "air_drop_common", "6223349b3136504a544d1608" },
            { "air_drop_medical", "622334c873090231d904a9fc" },
            { "air_drop_supply", "622334fa3136504a544d160c" },
            { "air_drop_weapon", "6223351bb5d97a7b2c635ca7" },
            { "CashRegisterBank", "64d116f41a9c6143a956127d" },
            { "SafeBank", "64d11702dd0cd96ab82c3280" },
            { "scavDead_flaregun", "6582e6bb0c3b9823fe6d1840" },
            { "scavDead_laborant", "6582e6c6edf14c4c6023adf2" },
            { "PMC_dead", "6582e6d7b14c3f72eb071420" },
            { "dead_civilian", "658420d8085fea07e674cdb6" },
            { "SafeBank_terra", "66acff0a1d8e1083b303f5af" },
            { "air_drop_supply_event1", "66da1b49099cf6adcc07a36b" },
            { "air_drop_prapor_quest", "66da1b546916142b3b022777" },
            { "air_drop_event_new_year", "67614e3a6a90e4f10b0b140d" }
        };

        // --- Trader Lookup ---
        public static readonly Dictionary<string, string> traderLookup = new()
        {
            { "Prapor", "54cb50c76803fa8b248b4571" },
            { "Therapist", "54cb57776803fa99248b456e" },
            { "Fence", "579dc571d53a0658a154fbec" },
            { "Skier", "58330581ace78e27b8b10cee" },
            { "Peacekeeper", "5935c25fb3acc3127c3d8cd9" },
            { "Mechanic", "5a7c2eca46aef81a7ca2145d" },
            { "Ragman", "5ac3b934156ae10c4430e83c" },
            { "Jaeger", "5c0647fdd443bc2504c2d371" },
            { "Lightkeeper", "638f541a29ffd1183d187f57" },
            { "Ref", "6617beeaa9cfa777ca915b7c" }
        };

        // --- Container Total Probability ---
        public static readonly Dictionary<string, Dictionary<string, double>> containerTotalProbability = new()
        {
            ["bigmap"] = new Dictionary<string, double>
            {
                { "AmmoBox", 211377 },
                { "CashRegister", 125829 },
                { "Drawer", 257627 },
                { "Food&Stuff", 47461 },
                { "GrenadeBox", 50286 },
                { "Jacket", 200053 },
                { "MedBag", 77865 },
                { "MedBox", 133570 },
                { "PCblock", 162577 },
                { "PMC_dead", 534701 },
                { "Safe", 228465 },
                { "SportBag", 816063 },
                { "ToolBox", 731219 },
                { "WeaponCrate", 616126 },
                { "air_drop_event_new_year", 16710 },
                { "barrel_cache", 269807 },
                { "jacket_key114_feld", 3262 },
                { "jacket_key204", 14 },
                { "jacket_yellow_quest", 27970 },
                { "meds&other", 131467 },
                { "scavDead", 269279 },
                { "terraWBoxLong", 541786 },
                { "terraWBoxLongBig", 218592 },
                { "terraWBoxSquare", 1085440 },
                { "terraWBoxSquareBig", 94983 },
                { "tools&other", 212538 },
                { "wood_cache", 212766 },
            },
            ["factory4_day"] = new Dictionary<string, double>
            {
                { "Drawer", 112176 },
                { "GrenadeBox", 96975 },
                { "Jacket", 238374 },
                { "MedBag", 83246 },
                { "PMC_dead", 124515 },
                { "Safe", 82125 },
                { "SafeBank_terra", 63511 },
                { "SportBag", 191650 },
                { "ToolBox", 301813 },
                { "WeaponCrate", 658009 },
                { "scavDead", 162389 },
                { "terraWBoxLong", 163046 },
                { "terraWBoxLongBig", 78573 },
                { "tools&other", 97691 },
            },
            ["factory4_night"] = new Dictionary<string, double>
            {
                { "Drawer", 112000 },
                { "GrenadeBox", 96770 },
                { "Jacket", 238000 },
                { "MedBag", 83293 },
                { "PMC_dead", 124329 },
                { "Safe", 82748 },
                { "SafeBank_terra", 63147 },
                { "SportBag", 191671 },
                { "ToolBox", 301415 },
                { "WeaponCrate", 659544 },
                { "scavDead", 161885 },
                { "terraWBoxLong", 162640 },
                { "terraWBoxLongBig", 78985 },
                { "tools&other", 97985 },
            },
            ["woods"] = new Dictionary<string, double>
            {
                { "AmmoBox", 103076 },
                { "Drawer", 143667 },
                { "Food&Stuff", 252430 },
                { "GrenadeBox", 124537 },
                { "Jacket", 88283 },
                { "MedBag", 89132 },
                { "PCblock", 4253 },
                { "PMC_dead", 617573 },
                { "Safe", 18700 },
                { "SportBag", 682806 },
                { "ToolBox", 445870 },
                { "WeaponCrate", 622751 },
                { "air_drop_event_new_year", 16290 },
                { "barrel_cache", 760062 },
                { "boss_container", 140360 },
                { "dead_civilian", 27979 },
                { "meds&other", 126675 },
                { "scavDead", 281248 },
                { "terraWBoxLong", 240711 },
                { "terraWBoxLongBig", 172497 },
                { "terraWBoxSquare", 615430 },
                { "terraWBoxSquareBig", 57514 },
                { "tools&other", 345559 },
                { "wood_cache", 693754 },
            },
            ["interchange"] = new Dictionary<string, double>
            {
                { "AmmoBox", 152465 },
                { "CashRegister", 1178673 },
                { "CashRegisterBig", 2078378 },
                { "Drawer", 162785 },
                { "GrenadeBox", 204667 },
                { "Jacket", 102838 },
                { "MedBag", 117080 },
                { "MedBox", 44097 },
                { "PCblock", 455125 },
                { "SportBag", 1431859 },
                { "ToolBox", 557438 },
                { "WeaponCrate", 237103 },
                { "air_drop_event_new_year", 16642 },
                { "barrel_cache", 182134 },
                { "scavDead", 62305 },
                { "suitcase_plastic_lootable", 130883 },
                { "terraWBoxLong", 702043 },
                { "terraWBoxLongBig", 616192 },
                { "terraWBoxSquare", 1061294 },
                { "terraWBoxSquareBig", 82340 },
                { "wood_cache", 134971 },
            },
            ["rezervbase"] = new Dictionary<string, double>
            {
                { "AmmoBox", 19181 },
                { "Drawer", 3738059 },
                { "Food&Stuff", 910667 },
                { "GrenadeBox", 424474 },
                { "Jacket", 432388 },
                { "MedBag", 106217 },
                { "MedBox", 13364 },
                { "PCblock", 313441 },
                { "Safe", 164864 },
                { "SportBag", 996106 },
                { "ToolBox", 727661 },
                { "WeaponCrate", 649413 },
                { "air_drop_event_new_year", 17044 },
                { "meds&other", 423702 },
                { "scavDead", 322818 },
                { "terraWBoxLong", 777702 },
                { "terraWBoxLongBig", 557778 },
                { "terraWBoxSquare", 644699 },
                { "terraWBoxSquareBig", 142264 },
                { "tools&other", 439433 },
            },
            ["shoreline"] = new Dictionary<string, double>
            {
                { "AmmoBox", 129075 },
                { "CashRegister", 264092 },
                { "Drawer", 596288 },
                { "Food&Stuff", 134886 },
                { "GrenadeBox", 140168 },
                { "Jacket", 457094 },
                { "MedBag", 396759 },
                { "MedBox", 102063 },
                { "PCblock", 507963 },
                { "Safe", 439710 },
                { "SportBag", 1073341 },
                { "ToolBox", 905067 },
                { "WeaponCrate", 428201 },
                { "air_drop_event_new_year", 16451 },
                { "barrel_cache", 382009 },
                { "meds&other", 95142 },
                { "scavDead", 430761 },
                { "suitcase_plastic_lootable", 167469 },
                { "terraWBoxLong", 439872 },
                { "terraWBoxLongBig", 587404 },
                { "terraWBoxSquare", 578193 },
                { "terraWBoxSquareBig", 415238 },
                { "wood_cache", 433165 },
            },
            ["lighthouse"] = new Dictionary<string, double>
            {
                { "AmmoBox", 177055 },
                { "CashRegister", 12499 },
                { "Drawer", 575430 },
                { "Food&Stuff", 79899 },
                { "GrenadeBox", 290719 },
                { "Jacket", 326481 },
                { "MedBag", 182897 },
                { "MedBag_adv", 65774 },
                { "MedBox", 108153 },
                { "PCblock", 173463 },
                { "Safe", 60007 },
                { "SportBag", 971824 },
                { "SportBag_adv", 14704 },
                { "ToolBox", 1194800 },
                { "WeaponCrate", 465551 },
                { "air_drop_event_new_year", 16950 },
                { "barrel_cache", 364487 },
                { "scavDead", 458681 },
                { "suitcase_plastic_lootable", 44361 },
                { "terraWBoxLong", 653456 },
                { "terraWBoxLongBig", 318698 },
                { "terraWBoxSquare", 943048 },
                { "terraWBoxSquareBig", 262536 },
                { "tools&other", 451744 },
                { "wood_cache", 397501 },
            },
            ["laboratory"] = new Dictionary<string, double>
            {
                { "CashRegister", 41894 },
                { "Drawer", 671520 },
                { "GrenadeBox", 52692 },
                { "Jacket", 125910 },
                { "MedBag", 151669 },
                { "MedBox", 239709 },
                { "PCblock", 923537 },
                { "PMC_dead", 41007 },
                { "Safe", 165025 },
                { "SportBag", 458069 },
                { "ToolBox", 432097 },
                { "dead_civilian", 41723 },
                { "suitcase_plastic_lootable", 47853 },
                { "terraWBoxLong", 168870 },
                { "terraWBoxLongBig", 255433 },
                { "terraWBoxSquare", 584248 },
                { "terraWBoxSquareBig", 137735 },
            },
            ["tarkovstreets"] = new Dictionary<string, double>
            {
                { "AmmoBox", 456092 },
                { "CashRegister", 1351380 },
                { "CashRegisterBank", 176059 },
                { "CashRegisterBig", 101467 },
                { "Drawer", 4957520 },
                { "Food&Stuff", 164275 },
                { "GrenadeBox", 416627 },
                { "Jacket", 556259 },
                { "MedBag", 396014 },
                { "MedBox", 302018 },
                { "PCblock", 1035916 },
                { "Safe", 361876 },
                { "SafeBank", 325270 },
                { "SportBag", 3365383 },
                { "ToolBox", 1900984 },
                { "WeaponCrate", 1263163 },
                { "barrel_cache", 526706 },
                { "meds&other", 94859 },
                { "scavDead", 2254644 },
                { "suitcase_plastic_lootable", 505466 },
                { "terraWBoxLong", 580501 },
                { "terraWBoxLongBig", 90192 },
                { "terraWBoxSquare", 595781 },
                { "terraWBoxSquareBig", 219261 },
                { "tools&other", 520118 },
            },
            ["sandbox"] = new Dictionary<string, double>
            {
                { "AmmoBox", 73654 },
                { "CashRegister", 62186 },
                { "Drawer", 1065829 },
                { "Food&Stuff", 16653 },
                { "GrenadeBox", 102904 },
                { "Jacket", 27684 },
                { "MedBag", 58732 },
                { "MedBox", 18282 },
                { "PCblock", 663879 },
                { "PMC_dead", 1348630 },
                { "Safe", 111053 },
                { "SportBag", 421925 },
                { "ToolBox", 410222 },
                { "WeaponCrate", 163103 },
                { "dead_civilian", 456176 },
                { "meds&other", 64446 },
                { "scavDead", 1202169 },
                { "scavDead_flaregun", 13842 },
                { "scavDead_laborant", 13842 },
                { "suitcase_plastic_lootable", 129786 },
                { "terraWBoxLong", 41170 },
                { "terraWBoxLongBig", 42521 },
                { "terraWBoxSquare", 128779 },
                { "terraWBoxSquareBig", 68543 },
                { "tools&other", 299811 },
            },
            ["sandbox_high"] = new Dictionary<string, double>
            {
                { "AmmoBox", 71687 },
                { "CashRegister", 61554 },
                { "Drawer", 1051511 },
                { "Food&Stuff", 16360 },
                { "GrenadeBox", 101321 },
                { "Jacket", 27312 },
                { "MedBag", 58171 },
                { "MedBox", 17620 },
                { "PCblock", 655868 },
                { "PMC_dead", 1331913 },
                { "Safe", 108969 },
                { "SportBag", 414299 },
                { "ToolBox", 404165 },
                { "WeaponCrate", 161317 },
                { "dead_civilian", 450277 },
                { "meds&other", 63317 },
                { "scavDead", 1183934 },
                { "scavDead_flaregun", 13656 },
                { "scavDead_laborant", 13656 },
                { "suitcase_plastic_lootable", 126875 },
                { "terraWBoxLong", 40940 },
                { "terraWBoxLongBig", 41351 },
                { "terraWBoxSquare", 125448 },
                { "terraWBoxSquareBig", 66624 },
                { "tools&other", 294447 },
            },
            ["labyrinth"] = new Dictionary<string, double>
            {
                { "loot_container_labyrinth_corpse_scav", 166432 },
                { "loot_container_labyrinth_crate_ammo", 50124 },
                { "loot_container_labyrinth_crate_grenade", 36414 },
                { "loot_container_labyrinth_crate_tools", 112419 },
                { "loot_container_labyrinth_crate_weapon", 120369 },
                { "loot_container_labyrinth_jacket", 10789 },
                { "loot_container_labyrinth_toolbox", 51320 },
            },
        };

        // --- Loose Loot Spawns ---
        public static readonly Dictionary<string, int> looseLootTotalSpawns = new()
        {
            { "bigmap", 250 },
            { "factory4_day", 50 },
            { "factory4_night", 50 },
            { "woods", 250 },
            { "interchange", 240 },
            { "rezervbase", 240 },
            { "shoreline", 550 },
            { "lighthouse", 570 },
            { "laboratory", 220 },
            { "tarkovstreets", 570 },
            { "sandbox", 140 },
            { "sandbox_high", 270 }
        };

        public static readonly Dictionary<string, double> looseLootTotalProbability = new()
        {
            { "bigmap", 114.13442974615678 },
            { "factory4_day", 14.81757238625018 },
            { "factory4_night", 19.04514285714284 },
            { "woods", 174.97576653121547 },
            { "interchange", 138.04368586088972 },
            { "rezervbase", 154.690349870952 },
            { "shoreline", 181.53586186540764 },
            { "lighthouse", 274.4307075910428 },
            { "laboratory", 93.72180128663332 },
            { "tarkovstreets", 424.75830994238703 },
            { "sandbox", 127.63899725473185 },
            { "sandbox_high", 209.37697715289974 },
            { "labyrinth", 69.10040790712269 }
        };

        // --- Template for loose loot structure ---
        public static readonly dynamic looseLootTemplate = new
        {
            template = new
            {
                IsContainer = false,
                useGravity = true,
                randomRotation = true,
                Rotation = new { x = 0f, y = 0f, z = 0f },
                IsGroupPosition = false,
                GroupPositions = new List<GroupPosition>(),
                IsAlwaysSpawn = false,
                Root = "",
                Items = new List<dynamic>
                {
                    new
                    {
                        _tpl = "mongoID",
                        _id = "1234567890",
                        upd = new { StackObjectsCount = 1 }
                    }
                }
            },
            itemDistribution = new List<dynamic>
            {
                new
                {
                    composedKey = new { key = "1234567890" },
                    relativeProbability = 4
                }
            }
        };
    }
}
